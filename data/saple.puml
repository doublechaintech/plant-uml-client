装车

@startuml
|金蝶系统|
start
:各种单据[1];
|CMS集成模块|
:拉取单据;
:归一化处理为订单[2];
:发送订单;
|CMS后台系统|
:接收订单;
if (配送瓶气订单) then (是)
    :生成调度计划;
    |调度@网页|
    :排计划;

else (非配送瓶气订单) 
    |库管@网页|
    :查看自提订单;

endif
|库管@App|
:装车; 
|CMS后台系统|
:推送装车事件;
|CMS集成模块|
:分析事件推送不同类型出库单;
|金蝶系统|
:接收不同类型单据;
stop
@enduml


送货阶段



@startuml
|金蝶系统|
|CMS集成模块|
|CMS后台系统|

start
if (配送瓶气订单) then (是)
   
    |司机@App|
    :厂外卸货/回收空瓶;
    |CMS后台系统|
    :推送厂外卸货和回收空瓶事件;
    |CMS集成模块|
    :根据订单类型不同推送单据;
    |金蝶系统|
    :接收不同单据;
    stop
    |库管@App|
    start
    
    :入库操作;
    |CMS后台系统|
    :推送厂外卸货和回收空瓶事件;
    |CMS集成模块|
    :根据订单类型不同推送单据;
    |金蝶系统|
    :接收不同单据;
    stop
endif
stop
@enduml

正常生产
@startuml
|金蝶系统|
|CMS集成模块|
|CMS后台系统|
|生产人员@App|
start
:充前检查;
:充装;
:充后检查;
|库管@App|
:满瓶生产入库;

|CMS后台系统|
:推送生产完成事件;
|CMS集成模块|
:推送生产订单;
|金蝶系统|
:接收生产订单;
:执行内部领料入库过程;
stop
@enduml

放空

@startuml
|金蝶系统|
|CMS集成模块|
|CMS后台系统|
|生产人员@App|
start
:放空;
|库管@App|
:放空后气瓶入库;

|CMS后台系统|
:推送放空完成事件;
|CMS集成模块|
:推送其他入库单-报废;
:推送其他入库单-回瓶;
|金蝶系统|
:接收其他入库单-报废;
:接收其他入库单-回瓶;
stop
@enduml